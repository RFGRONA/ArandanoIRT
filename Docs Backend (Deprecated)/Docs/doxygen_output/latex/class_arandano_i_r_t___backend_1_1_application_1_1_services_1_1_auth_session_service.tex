\doxysection{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service Class Reference}
\hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service}{}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service}\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}


Implements services for user session management including login, token refresh, and logout.  




Inheritance diagram for Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a28d6801749010e8a3908bcdedef3b4e2}{Auth\+Session\+Service}} (\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_auth_utilities}{IAuth\+Utilities}} auth\+Utilities, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_person_repository}{IPerson\+Repository}} person\+Repository, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_refresh_token_repository}{IRefresh\+Token\+Repository}} refresh\+Token\+Repository, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_failed_login_attempt_repository}{IFailed\+Login\+Attempt\+Repository}} failed\+Login\+Attempt\+Repository, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_rsa_service}{IRsa\+Service}} rsa\+Service, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_password_hasher}{IPassword\+Hasher}} password\+Hasher, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_infrastructure_1_1_interfaces_1_1_i_services_1_1_i_token_service}{IToken\+Service}} token\+Service, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_email_service}{IEmail\+Service}} email\+Service, \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_date_time_provider}{IDate\+Time\+Provider}} date\+Time\+Provider, ILogger$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service}{Auth\+Session\+Service}} $>$ logger)
\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_success_payload}{Login\+Success\+Payload}} $>$ $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a9a332ec23efd0ebb0293b0ac647392c2}{Login\+Async}} (\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_request_dto}{Login\+Request\+Dto}} request, string ip\+Address, string user\+Agent)
\begin{DoxyCompactList}\small\item\em Authenticates a user based on email and password without device information.


\begin{DoxyParams}{Parameters}
{\em request} & DTO containing login credentials.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the login payload (user details + tokens) on success, or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_success_payload}{Login\+Success\+Payload}} $>$ $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a27e059e48ace184a0e5000c39c3dd6df}{Login\+Async}} (\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_request_dto}{Login\+Request\+Dto}} request, string ip\+Address, string user\+Agent, string? device\+Info)
\begin{DoxyCompactList}\small\item\em Authenticates a user based on email and password, including device information.


\begin{DoxyParams}{Parameters}
{\em request} & DTO containing login credentials.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
{\em device\+Info} & Specific device information (nullable).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the login payload (user details + tokens) on success, or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_token_response_dto}{Token\+Response\+Dto}} $>$ $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_acb8250cb298ee3e4f348896137785856}{Refresh\+Token\+Async}} (string refresh\+Token\+Value, string ip\+Address, string user\+Agent)
\begin{DoxyCompactList}\small\item\em Refreshes the access token using a valid refresh token without device information.

Implements refresh token rotation via the underlying token service.


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the new access and refresh tokens on success, or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_token_response_dto}{Token\+Response\+Dto}} $>$ $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a780e4e818c78a99d3c12a783487d7902}{Refresh\+Token\+Async}} (string refresh\+Token\+Value, string ip\+Address, string user\+Agent, string? device\+Info)
\begin{DoxyCompactList}\small\item\em Refreshes the access token using a valid refresh token, including device information.

Implements refresh token rotation via the underlying token service.


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
{\em device\+Info} & Specific device information (nullable).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the new access and refresh tokens on success, or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}} $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_aadf2c2a217f7bfa7633da0d3ada5c19c}{Logout\+Async}} (string refresh\+Token\+Value, string ip\+Address)
\begin{DoxyCompactList}\small\item\em Revokes the specific refresh token used for the current session (logout).


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string to revoke.\\
\hline
{\em ip\+Address} & The IP address performing the logout.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task representing the asynchronous operation, with a result indicating success or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}} $>$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_ad5d60aff946e8a2e3e7ab9859ce96a64}{Logout\+Everywhere\+Async}} (long session\+Id, string ip\+Address)
\begin{DoxyCompactList}\small\item\em Revokes all active refresh tokens associated with a user\textquotesingle{}s session ID (logout everywhere).


\begin{DoxyParams}{Parameters}
{\em session\+Id} & The session ID (typically from the JWT \textquotesingle{}sid\textquotesingle{} claim) to revoke tokens for.\\
\hline
{\em ip\+Address} & The IP address performing the logout.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task representing the asynchronous operation, with a result indicating success or failure.
\end{DoxyReturn}
 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
const string \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a8dfe8a7d75ef1cecdb05882270bd60e5}{Email\+Error}} = "{}Invalid email or password."{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Implements services for user session management including login, token refresh, and logout. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a28d6801749010e8a3908bcdedef3b4e2}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a28d6801749010e8a3908bcdedef3b4e2} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!AuthSessionService@{AuthSessionService}}
\index{AuthSessionService@{AuthSessionService}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{AuthSessionService()}{AuthSessionService()}}
{\footnotesize\ttfamily Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Auth\+Session\+Service (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_auth_utilities}{IAuth\+Utilities}}}]{auth\+Utilities,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_person_repository}{IPerson\+Repository}}}]{person\+Repository,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_refresh_token_repository}{IRefresh\+Token\+Repository}}}]{refresh\+Token\+Repository,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_domain_1_1_i_repositories_1_1_i_failed_login_attempt_repository}{IFailed\+Login\+Attempt\+Repository}}}]{failed\+Login\+Attempt\+Repository,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_rsa_service}{IRsa\+Service}}}]{rsa\+Service,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_password_hasher}{IPassword\+Hasher}}}]{password\+Hasher,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_infrastructure_1_1_interfaces_1_1_i_services_1_1_i_token_service}{IToken\+Service}}}]{token\+Service,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_email_service}{IEmail\+Service}}}]{email\+Service,  }\item[{\mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_utilities_1_1_i_date_time_provider}{IDate\+Time\+Provider}}}]{date\+Time\+Provider,  }\item[{ILogger$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service}{Auth\+Session\+Service}} $>$}]{logger }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\doxysubsection{Member Function Documentation}
\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a9a332ec23efd0ebb0293b0ac647392c2}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a9a332ec23efd0ebb0293b0ac647392c2} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!LoginAsync@{LoginAsync}}
\index{LoginAsync@{LoginAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{LoginAsync()}{LoginAsync()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_success_payload}{Login\+Success\+Payload}} $>$ $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Login\+Async (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_request_dto}{Login\+Request\+Dto}}}]{request,  }\item[{string}]{ip\+Address,  }\item[{string}]{user\+Agent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Authenticates a user based on email and password without device information.


\begin{DoxyParams}{Parameters}
{\em request} & DTO containing login credentials.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the login payload (user details + tokens) on success, or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_a9a95d5a197d51fe591eafbf1ec1f255f}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.

\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a27e059e48ace184a0e5000c39c3dd6df}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a27e059e48ace184a0e5000c39c3dd6df} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!LoginAsync@{LoginAsync}}
\index{LoginAsync@{LoginAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{LoginAsync()}{LoginAsync()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_success_payload}{Login\+Success\+Payload}} $>$ $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Login\+Async (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_login_request_dto}{Login\+Request\+Dto}}}]{request,  }\item[{string}]{ip\+Address,  }\item[{string}]{user\+Agent,  }\item[{string?}]{device\+Info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Authenticates a user based on email and password, including device information.


\begin{DoxyParams}{Parameters}
{\em request} & DTO containing login credentials.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
{\em device\+Info} & Specific device information (nullable).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the login payload (user details + tokens) on success, or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_a520bd3da07aeb2190e5e3cfddcb1dd2a}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.

\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_aadf2c2a217f7bfa7633da0d3ada5c19c}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_aadf2c2a217f7bfa7633da0d3ada5c19c} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!LogoutAsync@{LogoutAsync}}
\index{LogoutAsync@{LogoutAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{LogoutAsync()}{LogoutAsync()}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}} $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Logout\+Async (\begin{DoxyParamCaption}\item[{string}]{refresh\+Token\+Value,  }\item[{string}]{ip\+Address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Revokes the specific refresh token used for the current session (logout).


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string to revoke.\\
\hline
{\em ip\+Address} & The IP address performing the logout.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task representing the asynchronous operation, with a result indicating success or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_a993a61d51382d75dfe16c6f61811bbb7}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.

\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_ad5d60aff946e8a2e3e7ab9859ce96a64}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_ad5d60aff946e8a2e3e7ab9859ce96a64} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!LogoutEverywhereAsync@{LogoutEverywhereAsync}}
\index{LogoutEverywhereAsync@{LogoutEverywhereAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{LogoutEverywhereAsync()}{LogoutEverywhereAsync()}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}} $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Logout\+Everywhere\+Async (\begin{DoxyParamCaption}\item[{long}]{session\+Id,  }\item[{string}]{ip\+Address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Revokes all active refresh tokens associated with a user\textquotesingle{}s session ID (logout everywhere).


\begin{DoxyParams}{Parameters}
{\em session\+Id} & The session ID (typically from the JWT \textquotesingle{}sid\textquotesingle{} claim) to revoke tokens for.\\
\hline
{\em ip\+Address} & The IP address performing the logout.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task representing the asynchronous operation, with a result indicating success or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_a4d475f7f64a6be73d0fa5e3504a8f5ba}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.

\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_acb8250cb298ee3e4f348896137785856}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_acb8250cb298ee3e4f348896137785856} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!RefreshTokenAsync@{RefreshTokenAsync}}
\index{RefreshTokenAsync@{RefreshTokenAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{RefreshTokenAsync()}{RefreshTokenAsync()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_token_response_dto}{Token\+Response\+Dto}} $>$ $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Refresh\+Token\+Async (\begin{DoxyParamCaption}\item[{string}]{refresh\+Token\+Value,  }\item[{string}]{ip\+Address,  }\item[{string}]{user\+Agent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Refreshes the access token using a valid refresh token without device information.

Implements refresh token rotation via the underlying token service.


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the new access and refresh tokens on success, or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_afe6dbca94037583cb02c8024badf9d0e}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.

\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a780e4e818c78a99d3c12a783487d7902}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a780e4e818c78a99d3c12a783487d7902} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!RefreshTokenAsync@{RefreshTokenAsync}}
\index{RefreshTokenAsync@{RefreshTokenAsync}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{RefreshTokenAsync()}{RefreshTokenAsync()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily async Task$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_domain_1_1_value_objects_1_1_result}{Result}}$<$ \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_application_1_1_d_t_os_1_1_auth_1_1_token_response_dto}{Token\+Response\+Dto}} $>$ $>$ Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Refresh\+Token\+Async (\begin{DoxyParamCaption}\item[{string}]{refresh\+Token\+Value,  }\item[{string}]{ip\+Address,  }\item[{string}]{user\+Agent,  }\item[{string?}]{device\+Info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Refreshes the access token using a valid refresh token, including device information.

Implements refresh token rotation via the underlying token service.


\begin{DoxyParams}{Parameters}
{\em refresh\+Token\+Value} & The opaque refresh token string.\\
\hline
{\em ip\+Address} & The IP address of the requesting client.\\
\hline
{\em user\+Agent} & The user agent string of the requesting client.\\
\hline
{\em device\+Info} & Specific device information (nullable).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A Task resulting in a Result containing the new access and refresh tokens on success, or failure.
\end{DoxyReturn}
 



Implements \mbox{\hyperlink{interface_arandano_i_r_t___backend_1_1_application_1_1_interfaces_1_1_i_services_1_1_i_auth_session_service_a56eeddfe846fba28ea069616869720f2}{Arandano\+IRT\+\_\+\+Backend.\+Application.\+Interfaces.\+IServices.\+IAuth\+Session\+Service}}.



\doxysubsection{Member Data Documentation}
\Hypertarget{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a8dfe8a7d75ef1cecdb05882270bd60e5}\label{class_arandano_i_r_t___backend_1_1_application_1_1_services_1_1_auth_session_service_a8dfe8a7d75ef1cecdb05882270bd60e5} 
\index{ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}!EmailError@{EmailError}}
\index{EmailError@{EmailError}!ArandanoIRT\_Backend.Application.Services.AuthSessionService@{ArandanoIRT\_Backend.Application.Services.AuthSessionService}}
\doxysubsubsection{\texorpdfstring{EmailError}{EmailError}}
{\footnotesize\ttfamily const string Arandano\+IRT\+\_\+\+Backend.\+Application.\+Services.\+Auth\+Session\+Service.\+Email\+Error = "{}Invalid email or password."{}\hspace{0.3cm}{\ttfamily [static]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Application/\+Services/\mbox{\hyperlink{_auth_session_service_8cs}{Auth\+Session\+Service.\+cs}}\end{DoxyCompactItemize}
