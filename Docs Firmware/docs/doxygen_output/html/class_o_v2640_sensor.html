<!-- HTML header for doxygen 1.10.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ArandanoIRT Firmware: OV2640Sensor Class Reference</title>
<link rel="icon" href="logo.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
    // Llama a .init() para otros scripts que hayas a√±adido y que lo requieran
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ArandanoIRT Firmware<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_o_v2640_sensor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_o_v2640_sensor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">OV2640Sensor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Wrapper class simplifying interaction with an OV2640 camera via the ESP-IDF driver.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_o_v2640_sensor_8h_source.html">OV2640Sensor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for OV2640Sensor:</div>
<div class="dyncontent">
<div class="center"><img src="class_o_v2640_sensor__coll__graph.png" border="0" usemap="#a_o_v2640_sensor_coll__map" alt="Collaboration graph"/></div>
<map name="a_o_v2640_sensor_coll__map" id="a_o_v2640_sensor_coll__map">
<area shape="rect" title="Wrapper class simplifying interaction with an OV2640 camera via the ESP&#45;IDF driver." alt="" coords="5,5,125,139"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7471faa05929b5158e37bee66b1d31be" id="r_a7471faa05929b5158e37bee66b1d31be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7471faa05929b5158e37bee66b1d31be">OV2640Sensor</a> ()</td></tr>
<tr class="memdesc:a7471faa05929b5158e37bee66b1d31be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for the OV2640 sensor wrapper.  <br /></td></tr>
<tr class="separator:a7471faa05929b5158e37bee66b1d31be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684a4f4b823da4bb3f9557be273945cb" id="r_a684a4f4b823da4bb3f9557be273945cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a684a4f4b823da4bb3f9557be273945cb">begin</a> ()</td></tr>
<tr class="memdesc:a684a4f4b823da4bb3f9557be273945cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the OV2640 camera module using the ESP-IDF driver.  <br /></td></tr>
<tr class="separator:a684a4f4b823da4bb3f9557be273945cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd8d790bc529b63926dfe190ceb9d62" id="r_a2cd8d790bc529b63926dfe190ceb9d62"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cd8d790bc529b63926dfe190ceb9d62">captureJPEG</a> (size_t &amp;length)</td></tr>
<tr class="memdesc:a2cd8d790bc529b63926dfe190ceb9d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Captures a single JPEG image frame from the camera.  <br /></td></tr>
<tr class="separator:a2cd8d790bc529b63926dfe190ceb9d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfdc2df6d4180071134013464d5ae8e" id="r_aabfdc2df6d4180071134013464d5ae8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabfdc2df6d4180071134013464d5ae8e">end</a> ()</td></tr>
<tr class="memdesc:aabfdc2df6d4180071134013464d5ae8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the camera driver and releases associated hardware resources.  <br /></td></tr>
<tr class="separator:aabfdc2df6d4180071134013464d5ae8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper class simplifying interaction with an OV2640 camera via the ESP-IDF driver. </p>
<p>Encapsulates the initialization, image capture (JPEG format), and deinitialization logic for the camera module, using hardware-specific pin configurations defined in the implementation file. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7471faa05929b5158e37bee66b1d31be" name="a7471faa05929b5158e37bee66b1d31be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7471faa05929b5158e37bee66b1d31be">&#9670;&#160;</a></span>OV2640Sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OV2640Sensor::OV2640Sensor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for the OV2640 sensor wrapper. </p>
<p>Default constructor implementation.</p>
<p>Does not perform any hardware initialization; call <a class="el" href="#a684a4f4b823da4bb3f9557be273945cb" title="Initializes the OV2640 camera module using the ESP-IDF driver.">begin()</a> for that.</p>
<p>Does nothing, as initialization requires hardware context provided in <a class="el" href="#a684a4f4b823da4bb3f9557be273945cb" title="Initializes the OV2640 camera module using the ESP-IDF driver.">begin()</a>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a684a4f4b823da4bb3f9557be273945cb" name="a684a4f4b823da4bb3f9557be273945cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684a4f4b823da4bb3f9557be273945cb">&#9670;&#160;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OV2640Sensor::begin </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the OV2640 camera module using the ESP-IDF driver. </p>
<p>Initializes the camera hardware and driver.</p>
<p>Configures the camera based on pin definitions and settings (clock frequency, pixel format = JPEG, frame size = VGA, JPEG quality, framebuffer count/location = PSRAM) specified within the implementation (.cpp file). It then calls the underlying <code>esp_camera_init</code> function. This method should be called once in the <code><a class="el" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Setup function, runs once on power-on or reset (including wake from deep sleep).">setup()</a></code> function.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if camera initialization was successful, <code>false</code> otherwise. Check Serial output for ESP-IDF driver error codes if initialization fails (requires Serial.begin). </dd></dl>

</div>
</div>
<a id="a2cd8d790bc529b63926dfe190ceb9d62" name="a2cd8d790bc529b63926dfe190ceb9d62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd8d790bc529b63926dfe190ceb9d62">&#9670;&#160;</a></span>captureJPEG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * OV2640Sensor::captureJPEG </td>
          <td>(</td>
          <td class="paramtype">size_t &amp;</td>          <td class="paramname"><span class="paramname"><em>length</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Captures a single JPEG image frame from the camera. </p>
<p>Captures a single JPEG image frame into a newly allocated buffer.</p>
<p>This function requests a framebuffer from the camera driver using <code>esp_camera_fb_get()</code>. If successful, it allocates a new buffer in PSRAM (using <code>ps_malloc</code>) of the exact size required for the captured JPEG data. It then copies the JPEG data from the driver's framebuffer into this newly allocated buffer. Finally, it returns the driver's framebuffer using <code>esp_camera_fb_return()</code> so the driver can reuse it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">length</td><td>Reference to a size_t variable. On success, this variable will be filled with the size of the captured JPEG image data in bytes. On failure, it will be set to 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer (uint8_t*) to the newly allocated buffer in PSRAM containing the JPEG data. The caller is responsible for freeing this memory using <code>free()</code> (or <code>ps_free()</code>) once the image data is no longer needed. Returns <code>nullptr</code> if the camera capture failed (e.g., <code>esp_camera_fb_get</code> failed) or if memory allocation for the copy buffer failed. </dd></dl>

</div>
</div>
<a id="aabfdc2df6d4180071134013464d5ae8e" name="aabfdc2df6d4180071134013464d5ae8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfdc2df6d4180071134013464d5ae8e">&#9670;&#160;</a></span>end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OV2640Sensor::end </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the camera driver and releases associated hardware resources. </p>
<p>Deinitializes the camera driver, releasing resources.</p>
<p>Calls the underlying <code>esp_camera_deinit()</code> function. This is crucial to free resources like DMA channels, I2S peripheral, and allocated framebuffers, especially before entering deep sleep modes or reconfiguring the camera. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/OV2640Sensor/<a class="el" href="_o_v2640_sensor_8h_source.html">OV2640Sensor.h</a></li>
<li>lib/OV2640Sensor/<a class="el" href="_o_v2640_sensor_8cpp.html">OV2640Sensor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_o_v2640_sensor.html">OV2640Sensor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
