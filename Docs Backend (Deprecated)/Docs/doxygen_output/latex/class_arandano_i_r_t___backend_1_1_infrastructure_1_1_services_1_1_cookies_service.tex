\doxysection{Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service Class Reference}
\hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service}{}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service}\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}


Provides methods for managing authentication-\/related HTTP cookies, such as setting, renewing, retrieving, and removing JWT, Refresh Token, and Stay\+Logged\+In cookies.  




Collaboration diagram for Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a7019b06feac7690874e9ddf57fe4e678}{Cookies\+Service}} (IConfiguration configuration)
\begin{DoxyCompactList}\small\item\em Initializes a new instance of the Cookies\+Service class. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a13ea6a2d7e96f95041abe83b868fec05}{Set\+Auth\+Cookies}} (Http\+Context context, string jwt\+Token, string refresh\+Token, bool stay\+Logged\+In)
\begin{DoxyCompactList}\small\item\em Sets the authentication cookies (jwt, refresh\+Token, stay\+Logged\+In) in the HTTP response. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a33da3f56a0b566574e90661d1c6cc8aa}{Renew\+Auth\+Cookies}} (Http\+Context context, string jwt\+Token, string refresh\+Token)
\begin{DoxyCompactList}\small\item\em Renews the JWT and Refresh Token cookies using the existing \textquotesingle{}stay\+Logged\+In\textquotesingle{} preference from the request cookies. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a97fdb3f98d344ff836f2182f88243898}{Get\+Stay\+Logged\+In}} (Http\+Context context)
\begin{DoxyCompactList}\small\item\em Reads the \textquotesingle{}stay\+Logged\+In\textquotesingle{} cookie from the request and parses its boolean value. \end{DoxyCompactList}\item 
string? \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a0712390bc4e15d08ef504e815e6c3662}{Get\+Refresh\+Token}} (Http\+Context context)
\begin{DoxyCompactList}\small\item\em Reads the \textquotesingle{}refresh\+Token\textquotesingle{} cookie value from the HTTP request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a8a804a78262904ee80aaa7827f474a6a}{Remove\+Cookies}} (Http\+Context context)
\begin{DoxyCompactList}\small\item\em Removes the authentication cookies (jwt, refresh\+Token, stay\+Logged\+In) from the HTTP response by setting their value to empty and their expiration date to the past. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provides methods for managing authentication-\/related HTTP cookies, such as setting, renewing, retrieving, and removing JWT, Refresh Token, and Stay\+Logged\+In cookies. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a7019b06feac7690874e9ddf57fe4e678}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a7019b06feac7690874e9ddf57fe4e678} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!CookiesService@{CookiesService}}
\index{CookiesService@{CookiesService}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{CookiesService()}{CookiesService()}}
{\footnotesize\ttfamily Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Cookies\+Service (\begin{DoxyParamCaption}\item[{IConfiguration}]{configuration }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Initializes a new instance of the Cookies\+Service class. 

Reads the cookie domain configuration setting.


\begin{DoxyParams}{Parameters}
{\em configuration} & The application configuration provider.\\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a0712390bc4e15d08ef504e815e6c3662}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a0712390bc4e15d08ef504e815e6c3662} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!GetRefreshToken@{GetRefreshToken}}
\index{GetRefreshToken@{GetRefreshToken}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{GetRefreshToken()}{GetRefreshToken()}}
{\footnotesize\ttfamily string? Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Get\+Refresh\+Token (\begin{DoxyParamCaption}\item[{Http\+Context}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reads the \textquotesingle{}refresh\+Token\textquotesingle{} cookie value from the HTTP request. 


\begin{DoxyParams}{Parameters}
{\em context} & The current Http\+Context.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The refresh token string if the cookie exists; otherwise, {\ttfamily null}.
\end{DoxyReturn}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a97fdb3f98d344ff836f2182f88243898}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a97fdb3f98d344ff836f2182f88243898} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!GetStayLoggedIn@{GetStayLoggedIn}}
\index{GetStayLoggedIn@{GetStayLoggedIn}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{GetStayLoggedIn()}{GetStayLoggedIn()}}
{\footnotesize\ttfamily bool Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Get\+Stay\+Logged\+In (\begin{DoxyParamCaption}\item[{Http\+Context}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Reads the \textquotesingle{}stay\+Logged\+In\textquotesingle{} cookie from the request and parses its boolean value. 


\begin{DoxyParams}{Parameters}
{\em context} & The current Http\+Context.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the \textquotesingle{}stay\+Logged\+In\textquotesingle{} cookie exists and its value parses to true (case-\/insensitive); otherwise, {\ttfamily false}.
\end{DoxyReturn}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a8a804a78262904ee80aaa7827f474a6a}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a8a804a78262904ee80aaa7827f474a6a} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!RemoveCookies@{RemoveCookies}}
\index{RemoveCookies@{RemoveCookies}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{RemoveCookies()}{RemoveCookies()}}
{\footnotesize\ttfamily void Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Remove\+Cookies (\begin{DoxyParamCaption}\item[{Http\+Context}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Removes the authentication cookies (jwt, refresh\+Token, stay\+Logged\+In) from the HTTP response by setting their value to empty and their expiration date to the past. 


\begin{DoxyParams}{Parameters}
{\em context} & The current Http\+Context.\\
\hline
\end{DoxyParams}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a33da3f56a0b566574e90661d1c6cc8aa}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a33da3f56a0b566574e90661d1c6cc8aa} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!RenewAuthCookies@{RenewAuthCookies}}
\index{RenewAuthCookies@{RenewAuthCookies}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{RenewAuthCookies()}{RenewAuthCookies()}}
{\footnotesize\ttfamily void Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Renew\+Auth\+Cookies (\begin{DoxyParamCaption}\item[{Http\+Context}]{context,  }\item[{string}]{jwt\+Token,  }\item[{string}]{refresh\+Token }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Renews the JWT and Refresh Token cookies using the existing \textquotesingle{}stay\+Logged\+In\textquotesingle{} preference from the request cookies. 


\begin{DoxyParams}{Parameters}
{\em context} & The current Http\+Context.\\
\hline
{\em jwt\+Token} & The new JWT access token string.\\
\hline
{\em refresh\+Token} & The new refresh token string.\\
\hline
\end{DoxyParams}
\Hypertarget{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a13ea6a2d7e96f95041abe83b868fec05}\label{class_arandano_i_r_t___backend_1_1_infrastructure_1_1_services_1_1_cookies_service_a13ea6a2d7e96f95041abe83b868fec05} 
\index{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}!SetAuthCookies@{SetAuthCookies}}
\index{SetAuthCookies@{SetAuthCookies}!ArandanoIRT\_Backend.Infrastructure.Services.CookiesService@{ArandanoIRT\_Backend.Infrastructure.Services.CookiesService}}
\doxysubsubsection{\texorpdfstring{SetAuthCookies()}{SetAuthCookies()}}
{\footnotesize\ttfamily void Arandano\+IRT\+\_\+\+Backend.\+Infrastructure.\+Services.\+Cookies\+Service.\+Set\+Auth\+Cookies (\begin{DoxyParamCaption}\item[{Http\+Context}]{context,  }\item[{string}]{jwt\+Token,  }\item[{string}]{refresh\+Token,  }\item[{bool}]{stay\+Logged\+In }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the authentication cookies (jwt, refresh\+Token, stay\+Logged\+In) in the HTTP response. 


\begin{DoxyParams}{Parameters}
{\em context} & The current Http\+Context.\\
\hline
{\em jwt\+Token} & The JWT access token string.\\
\hline
{\em refresh\+Token} & The refresh token string.\\
\hline
{\em stay\+Logged\+In} & Flag indicating if the session should be persistent (sets cookie expiry).\\
\hline
\end{DoxyParams}


Cookies are configured as Http\+Only, Secure, and Same\+Site=None. {\ttfamily Same\+Site=None} requires {\ttfamily Secure=true} and implies cross-\/site usage scenarios. Expiry is set only if {\itshape stay\+Logged\+In}  is true, otherwise they are session cookies. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Infrastructure/\+Services/\mbox{\hyperlink{_cookies_service_8cs}{Cookies\+Service.\+cs}}\end{DoxyCompactItemize}
