\doxysection{Multipart\+Data\+Sender Class Reference}
\hypertarget{class_multipart_data_sender}{}\label{class_multipart_data_sender}\index{MultipartDataSender@{MultipartDataSender}}


Utility class containing a static method for sending combined thermal and image data.  




{\ttfamily \#include $<$Multipart\+Data\+Sender.\+h$>$}



Collaboration diagram for Multipart\+Data\+Sender\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{class_multipart_data_sender__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_multipart_data_sender_adb1194725a92a68ec08d824e7f7598fc}{IOThermal\+And\+Image\+Data}} (const String \&api\+Url, float \texorpdfstring{$\ast$}{*}thermal\+Data, uint8\+\_\+t \texorpdfstring{$\ast$}{*}jpeg\+Image, size\+\_\+t jpeg\+Length)
\begin{DoxyCompactList}\small\item\em Sends thermal sensor data and a JPEG image via HTTP POST using multipart/form-\/data encoding. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Utility class containing a static method for sending combined thermal and image data. 

This class handles the complexities of formatting a multipart/form-\/data request, including setting correct headers and boundaries. As it only contains static methods, it does not need to be instantiated. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_multipart_data_sender_adb1194725a92a68ec08d824e7f7598fc}\label{class_multipart_data_sender_adb1194725a92a68ec08d824e7f7598fc} 
\index{MultipartDataSender@{MultipartDataSender}!IOThermalAndImageData@{IOThermalAndImageData}}
\index{IOThermalAndImageData@{IOThermalAndImageData}!MultipartDataSender@{MultipartDataSender}}
\doxysubsubsection{\texorpdfstring{IOThermalAndImageData()}{IOThermalAndImageData()}}
{\footnotesize\ttfamily bool Multipart\+Data\+Sender\+::\+IOThermal\+And\+Image\+Data (\begin{DoxyParamCaption}\item[{const String \&}]{api\+Url,  }\item[{float \texorpdfstring{$\ast$}{*}}]{thermal\+Data,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{jpeg\+Image,  }\item[{size\+\_\+t}]{jpeg\+Length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Sends thermal sensor data and a JPEG image via HTTP POST using multipart/form-\/data encoding. 

Sends thermal data and a JPEG image via HTTP POST using multipart/form-\/data encoding.

Constructs a multipart payload containing two distinct parts\+:
\begin{DoxyEnumerate}
\item Part name \textquotesingle{}thermal\textquotesingle{}\+: Contains the thermal data formatted as a JSON object string, specifically {\ttfamily \{"{}temperatures"{}\+: \mbox{[}temp1, temp2, ..., temp768\mbox{]}\}}.
\item Part name \textquotesingle{}image\textquotesingle{}\+: Contains the raw binary JPEG image data, with a default filename "{}camera.\+jpg"{}.
\end{DoxyEnumerate}

This combined payload is then sent via HTTP POST to the specified \doxylink{class_a_p_i}{API} endpoint. The function includes basic retry logic for the HTTP POST operation.


\begin{DoxyParams}{Parameters}
{\em api\+Url} & The full URL (String) of the \doxylink{class_a_p_i}{API} endpoint expecting the multipart POST request. \\
\hline
{\em thermal\+Data} & Pointer to the float array containing 768 (32x24) thermal readings in degrees Celsius (\$\texorpdfstring{$^\wedge$}{\string^}\{\textbackslash{}circ\}C\$). \\
\hline
{\em jpeg\+Image} & Pointer to the byte array (uint8\+\_\+t\texorpdfstring{$\ast$}{*}) containing the raw JPEG image data. \\
\hline
{\em jpeg\+Length} & The size (size\+\_\+t) of the JPEG image data in bytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the HTTP POST request was successfully sent AND the server responded with a success status code (HTTP 200-\/299) within the retry limit. Returns {\ttfamily false} otherwise (e.\+g., invalid input, JSON creation error, payload build error, HTTP connection failure, HTTP send error, or non-\/2xx server response).
\end{DoxyReturn}
This is the main public static method that orchestrates the process. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/\+Multipart\+Data\+Sender/\mbox{\hyperlink{_multipart_data_sender_8h}{Multipart\+Data\+Sender.\+h}}\item 
lib/\+Multipart\+Data\+Sender/\mbox{\hyperlink{_multipart_data_sender_8cpp}{Multipart\+Data\+Sender.\+cpp}}\end{DoxyCompactItemize}
