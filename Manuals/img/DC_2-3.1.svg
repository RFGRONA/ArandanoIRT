<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="881px" preserveAspectRatio="none" style="width:1294px;height:881px;background:#FFFFFF;" version="1.1" viewBox="0 0 1294 881" width="1294px" zoomAndPan="magnify"><title>Diagrama de Clases: Arquitectura de Peticiones y Seguridad</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="477.374" x="401.728" y="22.9951">Diagrama de Clases: Arquitectura de Peticiones y Seguridad</text></g><!--cluster Dependencias (Servicios de Aplicaci?n)--><g class="cluster" data-entity="Dependencias .Servicios de Aplicaci.n." data-source-line="5" data-uid="ent0002" id="cluster_Dependencias .Servicios de Aplicaci.n."><path d="M945.5239,602.6527 C950.8485,593.4351 959.1533,591.6053 965.7675,601.2701 C971.4152,592.9665 981.16,593.1121 986.2922,601.8895 C993.6588,592.3465 1002.019,592.745 1009.2775,602.0214 C1014.5751,591.0762 1022.467,590.8678 1030.8685,598.3931 C1036.6445,589.4001 1044.9326,588.7931 1051.2901,597.7308 C1057.2497,587.2545 1064.7625,586.3622 1073.0219,595.1342 C1078.1215,584.1595 1085.3835,583.6601 1093.0663,592.5242 C1100.6595,582.0022 1108.3503,583.5749 1113.8416,594.555 C1121.8096,585.7274 1129.7876,586.8689 1133.5374,598.5968 C1139.6068,586.096 1151.2109,586.4754 1157.5096,598.3716 C1164.1458,588.9547 1172.4806,591.7797 1176.6229,600.9377 C1183.4299,592.2536 1194.0119,591.5775 1198.5181,603.3949 C1204.6879,592.4823 1213.135,593.6435 1220.2461,602.3525 C1231.6702,593.3756 1240.4552,594.5107 1245.29,609.2969 C1246.7374,608.3344 1247.7933,608.6105 1248.3731,610.304 C1260.3024,619.3708 1258.9815,626.8676 1246.9373,634.5125 C1260.9819,640.1448 1262.4241,650.2291 1251.4024,660.2158 C1260.4482,667.2373 1259.5912,675.4809 1250.3301,681.5837 C1261.1765,687.4998 1262.642,699.0862 1250.489,705.1572 C1262.6532,711.1489 1266.3168,719.7674 1254.8785,729.9396 C1264.0839,737.3436 1263.2335,746.5541 1252.0495,751.2517 C1265.1651,759.7193 1262.9847,768.8969 1251.0296,776.3454 C1261.8886,781.671 1260.7143,792.0127 1251.1381,797.4434 C1261.7999,806.065 1260.1385,817.3623 1246.7367,821.5994 C1258.9099,835.7606 1254.6034,845.238 1238.29,851.2969 C1240.1067,851.1224 1240.7091,851.9379 1240.199,853.6506 C1233.8414,861.4231 1227.2951,862.891 1221.185,853.3782 C1214.56,866.7922 1204.9243,864.8165 1197.0368,854.6723 C1191.6219,865.5855 1185.3116,867.3784 1176.7638,857.7668 C1169.4807,870.2968 1162.6417,868.7509 1154.3702,858.7491 C1148.6297,869.7077 1139.7087,867.8751 1133.792,858.9312 C1129.9418,870.5294 1120.9781,870.6464 1113.5574,862.611 C1107.7099,872.5435 1098.1418,874.7016 1091.3067,863.6586 C1082.8556,874.376 1074.2075,872.0349 1069.4297,860.1095 C1064.8453,869.6098 1056.9046,867.9894 1051.6951,860.7726 C1044.7494,869.4657 1034.8177,868.3051 1029.7793,858.5115 C1020.9574,867.3553 1013.674,866.2418 1006.8727,856.0767 C999.7754,863.4721 993.1248,864.8011 987.9428,854.0758 C982.6581,863.6297 972.7751,866.7377 966.0189,855.6379 C949.6466,868.148 940.6597,861.6333 935.31,844.2969 C936.796,844.4367 937.5097,845.3597 936.6957,846.782 C923.5208,837.9461 924.4233,830.2062 936.4685,821.1467 C924.3887,814.6539 926.6374,805.0826 936.5172,798.6373 C925.1947,793.0892 923.2632,782.3708 933.8651,774.4215 C924.8526,769.5631 923.8598,759.1188 932.6408,753.2323 C919.7002,745.6483 917.7291,737.5839 930.0136,727.4313 C918.1068,719.7494 918.4336,709.73 931.5182,703.6277 C923.3375,696.3967 922.5645,688.619 932.8463,682.5514 C921.7385,674.0234 924.092,664.3169 935.9364,658.7714 C921.8028,651.2737 922.6123,641.9772 934.8886,633.3893 C920.9413,621.0214 925.7669,607.3871 942.31,602.2969 C943.3577,601.0645 944.78,601.1418 945.5239,602.6527" fill="none" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="310.2354" x="935.1823" y="620.292">Dependencias (Servicios de Aplicación)</text></g><!--cluster Pipeline de Petici?n y Filtros--><g class="cluster" data-entity="Pipeline de Petici.n y Filtros" data-source-line="11" data-uid="ent0006" id="cluster_Pipeline de Petici.n y Filtros"><rect fill="none" height="526" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="1281.83" x="7" y="44.2969"/><path d="M243.4131,44.2969 L243.4131,53.5938 L233.4131,63.5938 L7,63.5938" fill="none" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="226.4131" x="10" y="58.292">Pipeline de Petición y Filtros</text></g><!--cluster Middleware--><g class="cluster" data-entity="Middleware" data-source-line="13" data-uid="ent0007" id="cluster_Middleware"><rect fill="none" height="131" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="725.3" x="31" y="415.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91.8477" x="347.7262" y="430.292">Middleware</text></g><!--cluster Authentication Handlers--><g class="cluster" data-entity="Authentication Handlers" data-source-line="25" data-uid="ent0012" id="cluster_Authentication Handlers"><rect fill="none" height="165" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="1158.39" x="81.41" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192.7939" x="564.208" y="102.292">Authentication Handlers</text></g><!--cluster Action Filters (Attributes)--><g class="cluster" data-entity="Action Filters .Attributes." data-source-line="40" data-uid="ent0018" id="cluster_Action Filters .Attributes."><rect fill="none" height="115" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="1167.68" x="97.15" y="276.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="203.7725" x="579.1038" y="291.292">Action Filters (Attributes)</text></g><!--class IDeviceService--><g class="entity" data-entity="IDeviceService" data-source-line="6" data-uid="ent0003" id="entity_IDeviceService"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.749" x="1021.93" y="629.2969"/><ellipse cx="1036.93" cy="645.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1032.8519,641.0625 L1032.8519,638.9063 L1040.2425,638.9063 L1040.2425,641.0625 L1037.7738,641.0625 L1037.7738,649.1406 L1040.2425,649.1406 L1040.2425,651.2969 L1032.8519,651.2969 L1032.8519,649.1406 L1035.3206,649.1406 L1035.3206,641.0625 L1032.8519,641.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="103.749" x="1050.93" y="650.1436">IDeviceService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1022.93" x2="1156.679" y1="661.2969" y2="661.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1022.93" x2="1156.679" y1="669.2969" y2="669.2969"/></g><!--class ITurnstileService--><g class="entity" data-entity="ITurnstileService" data-source-line="7" data-uid="ent0004" id="entity_ITurnstileService"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.0996" x="1015.25" y="712.2969"/><ellipse cx="1030.25" cy="728.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1026.1719,724.0625 L1026.1719,721.9063 L1033.5625,721.9063 L1033.5625,724.0625 L1031.0938,724.0625 L1031.0938,732.1406 L1033.5625,732.1406 L1033.5625,734.2969 L1026.1719,734.2969 L1026.1719,732.1406 L1028.6406,732.1406 L1028.6406,724.0625 L1026.1719,724.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117.0996" x="1044.25" y="733.1436">ITurnstileService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1016.25" x2="1163.3496" y1="744.2969" y2="744.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1016.25" x2="1163.3496" y1="752.2969" y2="752.2969"/></g><!--class ApplicationDbContext--><g class="entity" data-entity="ApplicationDbContext" data-source-line="8" data-uid="ent0005" id="entity_ApplicationDbContext"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.9814" x="997.31" y="795.2969"/><ellipse cx="1012.31" cy="811.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1008.2319,807.0625 L1008.2319,804.9063 L1015.6225,804.9063 L1015.6225,807.0625 L1013.1538,807.0625 L1013.1538,815.1406 L1015.6225,815.1406 L1015.6225,817.2969 L1008.2319,817.2969 L1008.2319,815.1406 L1010.7006,815.1406 L1010.7006,807.0625 L1008.2319,807.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="152.9814" x="1026.31" y="816.1436">ApplicationDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="998.31" x2="1181.2914" y1="827.2969" y2="827.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="998.31" x2="1181.2914" y1="835.2969" y2="835.2969"/></g><!--class UserAuditingMiddleware--><g class="entity" data-entity="UserAuditingMiddleware" data-source-line="14" data-uid="ent0008" id="entity_UserAuditingMiddleware"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="306.1504" x="47" y="449.9969"/><ellipse cx="110.3657" cy="465.9969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M113.3345,471.6375 Q112.7563,471.9344 112.1157,472.075 Q111.4751,472.2313 110.772,472.2313 Q108.272,472.2313 106.9438,470.5906 Q105.6313,468.9344 105.6313,465.8094 Q105.6313,462.6844 106.9438,461.0281 Q108.272,459.3719 110.772,459.3719 Q111.4751,459.3719 112.1157,459.5281 Q112.772,459.6844 113.3345,459.9813 L113.3345,462.7 Q112.7095,462.1219 112.1157,461.8563 Q111.522,461.575 110.897,461.575 Q109.5532,461.575 108.8657,462.6531 Q108.1782,463.7156 108.1782,465.8094 Q108.1782,467.9031 108.8657,468.9813 Q109.5532,470.0438 110.897,470.0438 Q111.522,470.0438 112.1157,469.7781 Q112.7095,469.4969 113.3345,468.9188 L113.3345,471.6375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.9189" x="130.8657" y="470.8436">UserAuditingMiddleware</text><line style="stroke:#181818;stroke-width:0.5;" x1="48" x2="352.1504" y1="481.9969" y2="481.9969"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="55" y="492.6453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.8398" x="67" y="498.992">_next : RequestDelegate</text><line style="stroke:#181818;stroke-width:0.5;" x1="48" x2="352.1504" y1="506.2938" y2="506.2938"/><ellipse cx="58" cy="519.9422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.1504" x="67" y="523.2889">InvokeAsync(context, dbContext) : Task</text></g><g class="entity" data-entity="GMN9" data-source-line="19" data-uid="ent0010" id="entity_GMN9"><path d="M509.63,462.5969 L509.63,486.2969 L353.45,490.2969 L509.63,494.2969 L509.63,517.9953 A0,0 0 0 0 509.63,517.9953 L740.3058,517.9953 A0,0 0 0 0 740.3058,517.9953 L740.3058,472.5969 L730.3058,462.5969 L509.63,462.5969 A0,0 0 0 0 509.63,462.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M730.3058,462.5969 L730.3058,472.5969 L740.3058,472.5969 L730.3058,462.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8101" x="515.63" y="479.6638">Se ejecuta en</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="34.5566" x="608.5724" y="479.6638">cada</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.0435" x="647.2613" y="479.6638">petición.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.1108" x="515.63" y="494.7966">Establece el ID del usuario en la</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.6758" x="515.63" y="509.9294">conexión a la BD para auditoría.</text></g><!--class AuthHandlerBase--><g class="entity" data-entity="AuthHandlerBase" data-source-line="26" data-uid="ent0013" id="entity_AuthHandlerBase"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205.3398" x="97.41" y="155.2969"/><ellipse cx="112.41" cy="171.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M115.3788,176.9375 Q114.8006,177.2344 114.16,177.375 Q113.5194,177.5313 112.8163,177.5313 Q110.3163,177.5313 108.9881,175.8906 Q107.6756,174.2344 107.6756,171.1094 Q107.6756,167.9844 108.9881,166.3281 Q110.3163,164.6719 112.8163,164.6719 Q113.5194,164.6719 114.16,164.8281 Q114.8163,164.9844 115.3788,165.2813 L115.3788,168 Q114.7538,167.4219 114.16,167.1563 Q113.5663,166.875 112.9413,166.875 Q111.5975,166.875 110.91,167.9531 Q110.2225,169.0156 110.2225,171.1094 Q110.2225,173.2031 110.91,174.2813 Q111.5975,175.3438 112.9413,175.3438 Q113.5663,175.3438 114.16,175.0781 Q114.7538,174.7969 115.3788,174.2188 L115.3788,176.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.8965" x="126.41" y="176.1436">AuthenticationHandler</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" width="13.4434" x="292.3065" y="152.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="11.4434" x="293.3065" y="164.4355">...</text><line style="stroke:#181818;stroke-width:0.5;" x1="98.41" x2="301.7498" y1="187.2969" y2="187.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="98.41" x2="301.7498" y1="195.2969" y2="195.2969"/></g><!--class DeviceAuthenticationHandler--><g class="entity" data-entity="DeviceAuthenticationHandler" data-source-line="27" data-uid="ent0014" id="entity_DeviceAuthenticationHandler"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="421.6299" x="414.15" y="122.7069"/><ellipse cx="517.8272" cy="138.7069" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M520.796,144.3475 Q520.2179,144.6444 519.5772,144.785 Q518.9366,144.9412 518.2335,144.9412 Q515.7335,144.9412 514.4054,143.3006 Q513.0929,141.6444 513.0929,138.5194 Q513.0929,135.3944 514.4054,133.7381 Q515.7335,132.0819 518.2335,132.0819 Q518.9366,132.0819 519.5772,132.2381 Q520.2335,132.3944 520.796,132.6912 L520.796,135.41 Q520.171,134.8319 519.5772,134.5662 Q518.9835,134.285 518.3585,134.285 Q517.0147,134.285 516.3272,135.3631 Q515.6397,136.4256 515.6397,138.5194 Q515.6397,140.6131 516.3272,141.6912 Q517.0147,142.7537 518.3585,142.7537 Q518.9835,142.7537 519.5772,142.4881 Q520.171,142.2069 520.796,141.6287 L520.796,144.3475 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.7754" x="538.3272" y="143.5536">DeviceAuthenticationHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="415.15" x2="834.7799" y1="154.7069" y2="154.7069"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="422.15" y="165.3553"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.0928" x="434.15" y="171.702">_deviceService : IDeviceService</text><line style="stroke:#181818;stroke-width:0.5;" x1="415.15" x2="834.7799" y1="179.0037" y2="179.0037"/><polygon fill="#FFFF44" points="425.15,187.6522,429.15,191.6522,425.15,195.6522,421.15,191.6522" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395.6299" x="434.15" y="195.9989">HandleAuthenticateAsync() : Task&lt;AuthenticateResult&gt;</text><polygon fill="#FFFF44" points="425.15,203.9491,429.15,207.9491,425.15,211.9491,421.15,207.9491" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.5127" x="434.15" y="212.2957">HandleChallengeAsync(...) : Task</text><polygon fill="#FFFF44" points="425.15,220.2459,429.15,224.2459,425.15,228.2459,421.15,224.2459" style="stroke:#B38D22;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231.9297" x="434.15" y="228.5926">HandleForbiddenAsync(...) : Task</text></g><g class="entity" data-entity="GMN15" data-source-line="34" data-uid="ent0016" id="entity_GMN15"><path d="M955.81,151.5969 L955.81,175.2969 L836.05,179.2969 L955.81,183.2969 L955.81,206.9953 A0,0 0 0 0 955.81,206.9953 L1223.8037,206.9953 A0,0 0 0 0 1223.8037,206.9953 L1223.8037,161.5969 L1213.8037,151.5969 L955.81,151.5969 A0,0 0 0 0 955.81,151.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1213.8037,151.5969 L1213.8037,161.5969 L1223.8037,161.5969 L1213.8037,151.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.6948" x="961.81" y="168.6638">Se activa para endpoints protegidos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.9937" x="961.81" y="183.7966">con la política "DeviceAuthenticated".</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.834" x="961.81" y="198.9294">Valida el token del dispositivo.</text></g><!--class ActionFilterAttribute--><g class="entity" data-entity="ActionFilterAttribute" data-source-line="41" data-uid="ent0019" id="entity_ActionFilterAttribute"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.8457" x="113.15" y="319.2969"/><ellipse cx="128.15" cy="335.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M131.1188,340.9375 Q130.5406,341.2344 129.9,341.375 Q129.2594,341.5313 128.5563,341.5313 Q126.0563,341.5313 124.7281,339.8906 Q123.4156,338.2344 123.4156,335.1094 Q123.4156,331.9844 124.7281,330.3281 Q126.0563,328.6719 128.5563,328.6719 Q129.2594,328.6719 129.9,328.8281 Q130.5563,328.9844 131.1188,329.2813 L131.1188,332 Q130.4938,331.4219 129.9,331.1563 Q129.3063,330.875 128.6813,330.875 Q127.3375,330.875 126.65,331.9531 Q125.9625,333.0156 125.9625,335.1094 Q125.9625,337.2031 126.65,338.2813 Q127.3375,339.3438 128.6813,339.3438 Q129.3063,339.3438 129.9,339.0781 Q130.4938,338.7969 131.1188,338.2188 L131.1188,340.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.8457" x="142.15" y="340.1436">ActionFilterAttribute</text><line style="stroke:#181818;stroke-width:0.5;" x1="114.15" x2="285.9957" y1="351.2969" y2="351.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="114.15" x2="285.9957" y1="359.2969" y2="359.2969"/></g><!--class ValidateTurnstileAttribute--><g class="entity" data-entity="ValidateTurnstileAttribute" data-source-line="42" data-uid="ent0020" id="entity_ValidateTurnstileAttribute"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="351.0898" x="449.42" y="311.1469"/><ellipse cx="530.3165" cy="327.1469" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M533.2852,332.7875 Q532.7071,333.0844 532.0665,333.225 Q531.4259,333.3813 530.7227,333.3813 Q528.2227,333.3813 526.8946,331.7406 Q525.5821,330.0844 525.5821,326.9594 Q525.5821,323.8344 526.8946,322.1781 Q528.2227,320.5219 530.7227,320.5219 Q531.4259,320.5219 532.0665,320.6781 Q532.7227,320.8344 533.2852,321.1313 L533.2852,323.85 Q532.6602,323.2719 532.0665,323.0063 Q531.4727,322.725 530.8477,322.725 Q529.504,322.725 528.8165,323.8031 Q528.129,324.8656 528.129,326.9594 Q528.129,329.0531 528.8165,330.1313 Q529.504,331.1938 530.8477,331.1938 Q531.4727,331.1938 532.0665,330.9281 Q532.6602,330.6469 533.2852,330.0688 L533.2852,332.7875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.7969" x="550.8165" y="331.9936">ValidateTurnstileAttribute</text><line style="stroke:#181818;stroke-width:0.5;" x1="450.42" x2="799.5098" y1="343.1469" y2="343.1469"/><line style="stroke:#181818;stroke-width:0.5;" x1="450.42" x2="799.5098" y1="351.1469" y2="351.1469"/><ellipse cx="460.42" cy="364.7953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.0898" x="469.42" y="368.142">OnActionExecutionAsync(context, next) : Task</text></g><g class="entity" data-entity="GMN21" data-source-line="46" data-uid="ent0022" id="entity_GMN21"><path d="M930.78,315.5969 L930.78,339.2969 L800.94,343.2969 L930.78,347.2969 L930.78,370.9953 A0,0 0 0 0 930.78,370.9953 L1248.8249,370.9953 A0,0 0 0 0 1248.8249,370.9953 L1248.8249,325.5969 L1238.8249,315.5969 L930.78,315.5969 A0,0 0 0 0 930.78,315.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1238.8249,315.5969 L1238.8249,325.5969 L1248.8249,325.5969 L1238.8249,315.5969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297.0449" x="936.78" y="332.6638">Se usa como un atributo `[ValidateTurnstile]`</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.9722" x="936.78" y="347.7966">en las acciones de los controladores para</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.1699" x="936.78" y="362.9294">prevenir ataques de bots en formularios.</text></g><!--reverse link AuthHandlerBase to DeviceAuthenticationHandler--><g class="link" data-entity-1="AuthHandlerBase" data-entity-2="DeviceAuthenticationHandler" data-source-line="56" data-uid="lnk24" id="link_AuthHandlerBase_DeviceAuthenticationHandler"><path codeLine="56" d="M321.18,179.2969 C354.66,179.2969 375.2,179.2969 413.68,179.2969" fill="none" id="AuthHandlerBase-backto-DeviceAuthenticationHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="303.18,179.2969,321.18,185.2969,321.18,173.2969,303.18,179.2969" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link ActionFilterAttribute to ValidateTurnstileAttribute--><g class="link" data-entity-1="ActionFilterAttribute" data-entity-2="ValidateTurnstileAttribute" data-source-line="57" data-uid="lnk25" id="link_ActionFilterAttribute_ValidateTurnstileAttribute"><path codeLine="57" d="M305.42,343.2969 C352.04,343.2969 393.34,343.2969 449.12,343.2969" fill="none" id="ActionFilterAttribute-backto-ValidateTurnstileAttribute" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="287.42,343.2969,305.42,349.2969,305.42,337.2969,287.42,343.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link UserAuditingMiddleware to ApplicationDbContext--><g class="link" data-entity-1="UserAuditingMiddleware" data-entity-2="ApplicationDbContext" data-source-line="60" data-uid="lnk26" id="link_UserAuditingMiddleware_ApplicationDbContext"><path codeLine="60" d="M290.53,531.0369 C424.92,591.1069 687.85,704.3169 919.31,778.2969 C944.26,786.2669 965.8569,792.1314 991.2569,798.2514" fill="none" id="UserAuditingMiddleware-to-ApplicationDbContext" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="997.09,799.6569,989.2774,793.66,992.2291,798.4857,987.4034,801.4374,997.09,799.6569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.9785" x="613.97" y="582.3638">usa</text></g><!--link DeviceAuthenticationHandler to IDeviceService--><g class="link" data-entity-1="DeviceAuthenticationHandler" data-entity-2="IDeviceService" data-source-line="61" data-uid="lnk27" id="link_DeviceAuthenticationHandler_IDeviceService"><path codeLine="61" d="M750.85,236.2769 C780.44,252.9369 810.66,272.8069 835.78,295.2969 C895.6,348.8569 1025.5116,552.2442 1070.4516,623.8842" fill="none" id="DeviceAuthenticationHandler-to-IDeviceService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1073.64,628.9669,1072.2459,619.2172,1070.983,624.7313,1065.4689,623.4684,1073.64,628.9669" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.9785" x="866.78" y="324.3638">usa</text></g><!--link ValidateTurnstileAttribute to ITurnstileService--><g class="link" data-entity-1="ValidateTurnstileAttribute" data-entity-2="ITurnstileService" data-source-line="62" data-uid="lnk28" id="link_ValidateTurnstileAttribute_ITurnstileService"><path codeLine="62" d="M754.49,375.8269 C785.16,389.2769 814.99,408.0869 835.78,434.2969 C882.11,492.6869 840.62,529.1369 865.78,599.2969 C882.27,645.2869 880.41,665.7469 919.31,695.2969 C946.67,716.0869 977.1659,725.5453 1009.2259,730.6953" fill="none" id="ValidateTurnstileAttribute-to-ITurnstileService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1015.15,731.6469,1006.8983,726.2701,1010.2133,730.8539,1005.6295,734.1688,1015.15,731.6469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.9785" x="866.78" y="595.3638">usa</text></g><!--SRC=[bLNDJjj04BxxAKRfeH2QF02Aa4mI159RKDBsKbLbufsOBSkksPyKrF98dFe8l5XdRISu9WdjdkpT-MPdvljcrakl24OISuit289WgD2HEuJKtWRfAVF1bliNv6KcZIO7zp2bF5WfK2I9eha7Ry3A_Cg3a9OXR9Oa1MRNc1DqHbIG5gGpYGxsfcGNqP6BJjD2oGmp-VH7xtTWC1Wg4yJH4VnAW9VKdkmSCuAp4J68AYor3py5gvsNQijvMfItnAX6iw7X_JkVF3G2l905AQdfEKsEXxCyaSfRus9W9rmUAWChdQ-W7wGGYdwYfMWruTnHvufMASILSKKTV7Paqo2abpf_HZNCukh1TytHmI5Cw3QGyoDIbAEdDQi3EDCBSqsfkzVPNbPbz0x4Chbzndz2Txq2FQo-jF5KKsNcMs9gt3Kbe1-K1Oz06hhT30Lskr0iYzHls8wTnvaYBZWf9eoBgI2uW5QQ25ROiEMOwQwiCl8178-ueYmpZB4O-_I8puvPEcNKIPN8UldJuAz8-vfTE4NDELZt6XSjN0qRzFlzemwmIEDnlNdCtT12LrhSwE8bdQ8fNEPbWvANwqqTVyDpJV6Iq47pQ48kA7-qqSNm2fKYdTTuJko59fhc9yREc7xIsystIMX7CTPrX3mM5bZnp9mMXXlKGM7PMow5SUlgYAeeZ7fwZ3xZ26dTGgBJrDuNL3oDel0yzuKkjIUaAunZRI_Clwgfd5nbsxE8O2_rtifPyEJsNrDK1QsGArZBfWhIqsfShGnRiZc0Srqv7D_5vkEFLglh_-doxVUkCnGSSkbl30Hkoyh2mENN5_1lbmrSsTcEsQtV1XwXYcTxZDGQXS9OteoaDp25fGLfQVaMZ5CkWcQ6rS3EviRU11M7XjlA6lFs5dgz7ap6xzFXsVd7yJJ-njrJikL3axHQ60Q_sNwNM3SoMC5s592lR3vloPOfpuDbupF457BLarqJ9KBNXqODsY6d4jD-5IlONm00]--></g></svg>